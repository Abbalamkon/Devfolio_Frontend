<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DevFolio - Professional Portfolio Platform</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Auth Pages -->
    <div id="loginPage" class="auth-container">
      <div class="auth-box">
        <div class="auth-logo">DevFolio</div>
        <h2 class="auth-title">Sign in to your Account</h2>
        <div id="loginError" class="error-message hidden"></div>
        <form id="loginForm">
          <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" name="email" class="form-input" required />
          </div>
          <div class="form-group">
            <label class="form-label">Password</label>
            <input
              type="password"
              name="password"
              class="form-input"
              required
            />
          </div>
          <button type="submit" class="btn btn-primary">Sign In</button>
        </form>
        <div class="auth-link">
          Don't have an account?
          <a href="#" onclick="showRegister()">Sign up</a>
        </div>
      </div>
    </div>

    <div id="registerPage" class="auth-container hidden">
      <div class="auth-box">
        <div class="auth-logo">DevFolio</div>
        <h2 class="auth-title">Create your account</h2>
        <div id="registerError" class="error-message hidden"></div>
        <form id="registerForm">
          <div class="form-group">
            <label class="form-label">Full Name</label>
            <input type="text" name="name" class="form-input" required />
          </div>
          <div class="form-group">
            <label class="form-label">Username</label>
            <input type="text" name="username" class="form-input" required />
          </div>
          <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" name="email" class="form-input" required />
          </div>
          <div class="form-group">
            <label class="form-label">Password</label>
            <input
              type="password"
              name="password"
              class="form-input"
              required
              minlength="6"
            />
          </div>
          <button type="submit" class="btn btn-primary">Sign Up</button>
        </form>
        <div class="auth-link">
          Already have an account? <a href="#" onclick="showLogin()">Sign in</a>
        </div>
      </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="app-container hidden">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="logo">DevFolio</div>
        <nav>
          <div
            id="nav-myPortfolio"
            class="nav-item"
            onclick="showPage('myPortfolio')"
          >
            <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"
              />
            </svg>
            <span class="nav-text">My Portfolio</span>
          </div>
          <div id="nav-profile" class="nav-item" onclick="viewMyProfile()">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
              />
            </svg>
            <span class="nav-text">My Profile</span>
          </div>
          <div
            id="nav-projects"
            class="nav-item active"
            onclick="showPage('projects')"
          >
            <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"
              />
            </svg>
            <span class="nav-text">Projects</span>
          </div>
          <div
            id="nav-messages"
            class="nav-item"
            onclick="showPage('messages')"
          >
            <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"
              />
            </svg>
            <span class="nav-text">Messages</span>
          </div>
        </nav>
        <button class="add-project-btn" onclick="openModal('addProjectModal')">
          Add Project
        </button>
        <div class="user-profile-sidebar" onclick="viewMyProfile()">
          <img src="" alt="User" class="user-avatar-small" id="sidebarAvatar" />
          <div class="user-info-small">
            <div class="user-name-small" id="sidebarName"></div>
            <div class="user-username-small" id="sidebarUsername"></div>
          </div>
        </div>
      </aside>

      <!-- Main Content Area -->
      <main class="main-content">
        <div id="myPortfolioPage" class="hidden">
          <div class="header">
            <h1>My Portfolio</h1>
            <button class="btn btn-accent" onclick="openEditPortfolioModal()">
              Edit Portfolio
            </button>
          </div>
          <div
            id="portfolio-content-wrapper"
            class="portfolio-page-content"
          ></div>
        </div>

        <div id="projectsPage">
          <div class="header"><h1>Projects</h1></div>
          <div id="projectsContainer"></div>
        </div>

        <div id="profilePage" class="hidden">
          <div class="header"><h1 id="profileHeaderName">Profile</h1></div>
          <div id="profile-content-wrapper"></div>
        </div>

        <div id="messagesPage" class="hidden">
          <div class="header"><h1>Messages</h1></div>
          <div class="messages-container">
            <div class="conversations-list" id="conversationsList"></div>
            <div class="chat-window" id="chatWindow"></div>
          </div>
        </div>
      </main>
    </div>

    <!-- Modals -->
    <div id="addProjectModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Add New Project</h2>
          <button class="modal-close" onclick="closeModal('addProjectModal')">
            ×
          </button>
        </div>
        <form id="addProjectForm">
          <div class="modal-body">
            <div class="form-group">
              <label class="form-label">Project Title</label>
              <input type="text" name="title" class="form-input" required />
            </div>
            <div class="form-group">
              <label class="form-label">Description</label>
              <textarea
                name="description"
                class="form-input"
                required
                rows="4"
              ></textarea>
            </div>
            <div class="form-group">
              <label class="form-label">Demo Link</label>
              <input type="url" name="demo_url" class="form-input" />
            </div>
            <div class="form-group">
              <label class="form-label">GitHub Link</label>
              <input type="url" name="github_url" class="form-input" />
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-accent">Add Project</button>
          </div>
        </form>
      </div>
    </div>

    <div id="editPortfolioModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Edit Your Portfolio</h2>
          <button
            class="modal-close"
            onclick="closeModal('editPortfolioModal')"
          >
            ×
          </button>
        </div>
        <form id="editPortfolioForm">
          <div class="modal-body">
            <div class="form-group">
              <label class="form-label">Professional Summary</label>
              <textarea name="summary" class="form-input" rows="4"></textarea>
            </div>
            <div class="form-group">
              <label class="form-label">Skills (comma-separated)</label>
              <textarea name="skills" class="form-input" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label class="form-label">Featured Projects</label>
              <div id="portfolioProjectList"></div>
            </div>
            <div class="form-group">
              <label class="form-label">Work Experience</label>
              <textarea
                name="experience"
                class="form-input"
                rows="6"
                placeholder="e.g., Senior Developer @ ACME (2020-Present)"
              ></textarea>
            </div>
            <div class="form-group">
              <label class="form-label">Education</label>
              <textarea
                name="education"
                class="form-input"
                rows="4"
                placeholder="e.g., B.S. in Computer Science"
              ></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-accent">Save Portfolio</button>
          </div>
        </form>
      </div>
    </div>

    <div id="editProfileModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Edit Profile</h2>
          <button class="modal-close" onclick="closeModal('editProfileModal')">
            ×
          </button>
        </div>
        <form id="editProfileForm">
          <div class="modal-body">
            <div class="form-group">
              <label class="form-label">Full Name</label>
              <input type="text" name="name" class="form-input" required />
            </div>
            <div class="form-group">
              <label class="form-label">Bio</label>
              <textarea name="bio" class="form-input" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label class="form-label">Avatar URL</label>
              <input
                type="url"
                name="avatar_url"
                class="form-input"
                placeholder="https://example.com/avatar.jpg"
              />
            </div>
            <div class="form-group">
              <label class="form-label">Cover Image URL</label>
              <input
                type="url"
                name="cover_image_url"
                class="form-input"
                placeholder="https://example.com/cover.jpg"
              />
            </div>
            <hr
              style="
                margin: 20px 0;
                border: 1px solid var(--border);
                border-top: 0;
              "
            />
            <div class="form-group">
              <label class="form-label">Email Address</label>
              <input type="email" name="email" class="form-input" />
            </div>
            <div class="form-group">
              <label class="form-label">GitHub URL</label>
              <input type="url" name="github" class="form-input" />
            </div>
            <div class="form-group">
              <label class="form-label">LinkedIn URL</label>
              <input type="url" name="linkedin" class="form-input" />
            </div>
            <div class="form-group">
              <label class="form-label">Twitter URL</label>
              <input type="url" name="twitter" class="form-input" />
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-accent">Save Changes</button>
          </div>
        </form>
      </div>
    </div>

    <div id="messageModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title" id="messageModalTitle">Send a Message</h2>
          <button class="modal-close" onclick="closeModal('messageModal')">
            ×
          </button>
        </div>
        <form id="messageForm">
          <div class="modal-body">
            <input type="hidden" name="recipient_id" />
            <div class="form-group">
              <textarea
                name="message"
                class="form-input"
                rows="5"
                placeholder="Write your message..."
                required
              ></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-accent">Send</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="api.js"></script>
    <script src="auth.js"></script>
    <script src="projects.js"></script>
    <script src="portfolio.js"></script>
    <script src="profile.js"></script>
    <script src="messages.js"></script>
    <script src="ui.js"></script>
    <script src="app.js"></script>
  </body>
</html>
